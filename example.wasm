import printI32(i32) void;
import printF32(f32) void;
import printF64(f64) void;

// Factorial function
func fact(n i32) i32 {
  if(n <= 1) {
    return 1;
  } else {
    return n * fact(n - 1);
  }
}

memory dummy i32;
memory temp i32;

func bar(a i32) i32 {
  printI32(fact(7));
  printF32(1.1f * 2.3f);
  printF64(1.1 * 2.3);
  storeI32(temp, 123);
  return a * 3;
}

import hook() void;

export func main() i32 {
  hook();
  return (11 - 7) * bar(1) * loadI32(temp);
}
